/*! startpage by gandalfx */
Array.prototype.shuffle||(Array.prototype.shuffle=function(){var a=[];return this.forEach(function(b,c){var d=Math.floor(Math.random()*c);a[c]=a[d],a[d]=b}),a}),function(a,b,c){"use strict";function d(a){var b,c={};return a.split("\n").map(e).forEach(function(a,d){if(a){var e;if(e=a.match(/^(\S+)\s*=\s*(.*)$/))c[e[1]]=JSON.parse(e[2]);else if(e=a.match(/^\[(\S+)\]$/))b=e[1],c.hasOwnProperty(b)||(c[b]=[]);else{if(!b)throw"Config: Syntax error on line "+(d+1);var f=a.split(/\s+/);c[b].push(f.length>1?f:f[0])}}}),c}function e(a){var b=a.indexOf("#");return(b>=0?a.slice(0,b):a).trim()}var f={},g={};a.config=f,f.reset=function(){c.clear(),window.location.reload(!0)},f.require=function(a,b,e){if(e||(e=b,b=!1),g.hasOwnProperty(a))e(g[a]);else if(c.hasOwnProperty(a))e(g[a]=JSON.parse(c[a]));else{console.log("loading '"+a+"'");var h=new XMLHttpRequest;h.open("GET",a),h.addEventListener("load",function(){if(b)var f=b(h.responseText);else var f=d(h.responseText);g[a]=f,c[a]=JSON.stringify(f),e(f)}),h.responseType="text",h.send()}return f},f.store=function(a,b,d){g[a][b]=d,c[a]=JSON.stringify(g[a])}}(window,document,window.localStorage),function(a){"use strict";var b=a.getElementById("settings"),c={};window.settingsMenu=b,b.add=function(d,e,f){c.hasOwnProperty(e)||(c[e]=b.appendChild(a.createElement("div")),c[e].className=e);var g=c[e].appendChild(a.createElement("a"));g.innerHTML=d,g.addEventListener("click",f)},b.add("reload","reset",config.reset)}(document),function(a,b){"use strict";function c(a){a.engines.forEach(function(a){var b={names:a[0].split("|"),param:a[1],url:a[2]};b.names[0]?d(b):b.names.shift(),b.names.forEach(function(a){o[a]=b}),i||e(i=b)}),a.shortcuts&&a.shortcuts.forEach(function(a){p[a[0]]=a[1]}),a.search_prefix_delimiter&&(m=a.search_prefix_delimiter),a.shortcut_prefix_delimiter&&(n=a.shortcut_prefix_delimiter)}function d(a){var c=l.appendChild(b.createElement("button"));c.engine=a,c.innerHTML=a.names[0],c.type="button",c.addEventListener("click",f),c.addEventListener("keyup",g)}function e(a){j.action=a.url,k.name=a.param}function f(){e(this.engine),j.removeEventListener("submit",h),j.submit()}function g(a){13===a.keyCode&&f.call(this)}function h(b){var c,d=k.value.trim(),f=/^((https?)|(ftp)):\/\//i,g=/^(([a-z0-9-]+\.)+((de)|(com)|(org)|(net)|(me)|(info)|(im)|(fr)|(co\.uk)|(io)|(cc)))(\/.*)?$/i,h=new RegExp("^("+Object.getOwnPropertyNames(o).join("|")+")"+m+"(.*)"),i=new RegExp("^("+Object.getOwnPropertyNames(p).join("|")+")"+n+"(.*)");return f.test(d)?(a.location.replace(d),b.preventDefault(),!1):g.test(d)?(a.location.replace("http://"+d),b.preventDefault(),!1):(c=i.exec(d))?(a.location.replace(p[c[1]]+c[2]),b.preventDefault(),!1):void((c=h.exec(d))&&(e(o[c[1]]),k.value=d=c[2].trim()))}var i,j=b.getElementById("search"),k=b.getElementById("searchInput"),l=b.getElementById("searchButtons"),m=" ",n="/",o={},p={};config.require("search.conf",c),j.addEventListener("submit",h),a.addEventListener("click",k.focus.bind(k))}(window,document),function(a){"use strict";config.require("menus.conf",function(b){for(var c in b)if(b.hasOwnProperty(c)){var d=a.getElementById(c);b[c].forEach(function(b){var c=d.appendChild(a.createElement("a"));c.innerHTML=b[0],c.setAttribute("href",b[1])})}})}(document),function(a,b,c){"use strict";var d={},e=["","white"];a.style=d,d.set=function(a){var b=e.indexOf(a);return b>-1&&(c.dataset.styleId=b,c.className=a),d},d.cycle=function(){return c.className=e[++c.dataset.styleId%e.length],d},c.dataset.styleId=0,c.className=e[0],settingsMenu.add("toggle style","style",d.cycle)}(window,document,document.body),function(a){"use strict";function b(a){s=a.collections,m=a.hasOwnProperty("shuffle")&&a.shuffle,d(a.hasOwnProperty("active_collection")&&s.hasOwnProperty(a.active_collection)?a.active_collection:Object.getOwnPropertyNames(s)[0]),Object.getOwnPropertyNames(s).forEach(function(a){settingsMenu.add(a,"collections",function(){d(a)})}),g()}function c(a){var b,c={collections:{}};return a.split("\n").forEach(function(a){if(a&&"#"!==a[0]){var d;if(d=a.match(/^(\S+)\s*=\s*(.*)$/))c[d[1]]=JSON.parse(d[2]);else if(d=a.match(/^\[collection_(\w+)\]$/))b=d[1],c.collections.hasOwnProperty(b)||(c.collections[b]=[]);else{if(!b)throw"Config: Syntax error on line "+(lineNum+1);var e=a.split(/\s+/);c.collections[b].push({src:e[0],style:e.length>1?e[1]:""})}}}),Object.getOwnPropertyNames(c.collections).forEach(function(a){if(c.hasOwnProperty("prefix_collection_"+a)){var b=c["prefix_collection_"+a];c.collections[a].map(function(a){a.src=b+a.src})}}),c}function d(b){l=0,p.innerHTML="",k=[],j=m?s[b].shuffle():s[b],j.forEach(function(b,c){k[c]=a.createElement("a"),k[c].addEventListener("click",function(){f(c)},!1),p.appendChild(a.createElement("li")).appendChild(k[c])}),f(m?0:Math.floor(Math.random()*j.length)),config.store(i,"active_collection",b)}function e(a){+a||(a=1);var b=j.length;f((l+a+b)%b)}function f(a){o.setAttribute("src",j[a].src),o.setAttribute("title","#"+a+"     "+j[a].src),style.set(j[a].style),k[l].className="",k[a].className="active",g(),r.src=j[(a+1)%j.length].src,l=a}function g(){var a,b,c=n.offsetHeight,d=n.offsetWidth,e=q.offsetHeight,f=q.offsetWidth,g=o.height,i=(o.width,o.height/o.width),j=0;(d-f-150)*i>Math.min(g,c-e-150)?(n.className="horizontalLayout",a=c-100,b=d-f-150):(n.className="verticalLayout",a=c-e-150,b=d-100,j=(c-e-Math.min(g,a)-h)/2),o.style.maxHeight=Math.floor(a)+"px",o.style.maxWidth=Math.floor(b)+"px",q.style.marginTop=Math.floor(j)+"px"}const h=50,i="pictures.conf";var j,k,l,m,n=a.getElementById("main"),o=a.getElementById("myImage"),p=a.getElementById("imgNavigation"),q=a.getElementById("search"),r=new Image,s={};config.require(i,c,b),o.addEventListener("load",g,!1),window.addEventListener("resize",g,!1),o.addEventListener("click",e,!1),o.addEventListener("DOMMouseScroll",function(a){e(a.detail<0?1:-1)},!1),p.addEventListener("DOMMouseScroll",function(a){e(a.detail<0?1:-1)},!1)}(document);